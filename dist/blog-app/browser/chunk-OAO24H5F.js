import{a as N}from"./chunk-B5X4QGZB.js";import{b as G}from"./chunk-AVWURRJT.js";import{a as R}from"./chunk-OJWTNCDC.js";import{a as A,b as U,c as H,d as V,e as W,f as Y,g as $}from"./chunk-GBBMACSP.js";import"./chunk-SWZZ4WDK.js";import{Ba as h,Ga as f,Ka as c,Nb as z,Pa as a,Q as S,Qa as i,Ra as g,T as w,Tb as v,Wa as T,Ya as x,eb as M,fb as l,gb as d,h as B,hb as C,ja as s,kb as b,lb as _,mb as y,qb as j,sa as L,ua as o,wb as D,xb as k,ya as u,zb as F}from"./chunk-SCPIGO2T.js";var J=(()=>{class t{constructor(e){this.router=e}getDefaultImage(){return"assets/images/default_header_img.jpg"}viewMore(){if(this.blogEntry()){let e=this.blogEntry().id;this.selectedBlogId.set(e),this.router.navigate(["/blogs",e])}}static{this.\u0275fac=function(n){return new(n||t)(u(z))}}static{this.\u0275cmp=h({type:t,selectors:[["app-blog-card"]],inputs:{blogEntry:"blogEntry",selectedBlogId:"selectedBlogId"},decls:21,vars:8,consts:[["appearance","outlined",1,"blog-card"],[1,"blog-card-title"],["mat-card-image","","alt","Blog Cover Photo",1,"blog-card-img",3,"src"],["mat-button","",1,"button","button--primary",3,"click"]],template:function(n,r){if(n&1&&(a(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),l(3),i(),a(4,"mat-card-subtitle")(5,"mat-icon"),l(6,"person"),i(),l(7),i()(),g(8,"img",2),a(9,"mat-card-content")(10,"div")(11,"mat-icon"),l(12,"thumb_up"),i(),l(13),a(14,"mat-icon"),l(15,"comment"),i(),l(16),i()(),a(17,"mat-card-actions")(18,"button",3),T("click",function(){return r.viewMore()}),l(19),b(20,"translate"),i()()()),n&2){let p,E,O,I,P;o(3),d((p=r.blogEntry())==null?null:p.title),o(4),C(" ",(E=r.blogEntry())==null?null:E.author," "),o(),c("src",((O=r.blogEntry())==null?null:O.headerImageUrl)||r.getDefaultImage(),L),o(5),C(" ",(I=r.blogEntry())==null?null:I.likes," "),o(3),C(" ",(P=r.blogEntry())==null?null:P.likes," "),o(3),d(_(20,6,"BLOG_CARD.VIEW_MORE"))}},dependencies:[R,A,W,H,Y,$,V,U,N,v],styles:[".blog-card[_ngcontent-%COMP%]{position:relative;transition:transform .2s ease-in-out,box-shadow .2s ease-in-out;width:350px;margin:10px;border:1px solid grey;border-radius:15px;overflow:hidden;background-color:#fff;box-shadow:0 2px 8px #0000001a}@media (max-width: 400px){.blog-card[_ngcontent-%COMP%]{width:80%;margin:1%}}.blog-card[_ngcontent-%COMP%]:hover, .blog-card[_ngcontent-%COMP%]:active, .blog-card[_ngcontent-%COMP%]:focus{transform:translateY(-5px);box-shadow:0 4px 20px #00000026}.blog-card[_ngcontent-%COMP%]   .blog-card-title[_ngcontent-%COMP%]{padding:15px 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:300px;font-size:20px;font-weight:600;color:#8b0000}.blog-card[_ngcontent-%COMP%]   .blog-card-img[_ngcontent-%COMP%]{object-fit:cover;height:200px;width:100%;border-bottom:1px solid #ddd}.blog-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-bottom:10px;border-bottom:1px solid #ddd}.blog-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:14px;color:gray;display:flex;align-items:center;gap:5px}.blog-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6c757d}.blog-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:15px;font-size:14px;color:#555}.blog-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center;font-size:16px}.blog-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8b0000}.blog-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:15px;display:flex;justify-content:flex-end}"],changeDetection:0})}}return t})();var K=(()=>{class t{constructor(e){this.blogService=e,this.blogEntriesSubject=new B([]),this.blogEntries=s([]),this.selectedBlogId=s(null),this.isLoading=s(!1)}fetchBlogEntries(){this.isLoading.set(!0),this.blogService.getBlogEntries().subscribe({next:e=>{this.blogEntriesSubject.next(e.data),this.blogEntries.set(e.data),this.isLoading.set(!1)},error:e=>{console.error("Error fetching blog entries:",e),this.isLoading.set(!1)}})}selectBlog(e){this.selectedBlogId.set(e)}static{this.\u0275fac=function(n){return new(n||t)(w(G))}}static{this.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function X(t,m){t&1&&(a(0,"div",4),g(1,"img",5),i())}function Z(t,m){if(t&1&&(a(0,"div",10),g(1,"app-blog-card",11),i()),t&2){let e=m.$implicit,n=x(3);o(),c("blogEntry",e)("selectedBlogId",n.blogState.selectedBlogId)}}function tt(t,m){if(t&1&&(a(0,"div",7)(1,"div",8),f(2,Z,2,2,"div",9),i()()),t&2){let e=x(2);o(2),c("ngForOf",e.blogSignals())}}function et(t,m){if(t&1&&f(0,tt,3,1,"div",6),t&2){let e=x(),n=M(8);c("ngIf",e.blogSignals()&&e.blogSignals().length>0)("ngIfElse",n)}}function nt(t,m){t&1&&(a(0,"div",12),g(1,"img",13),a(2,"p"),l(3),b(4,"translate"),i()()),t&2&&(o(3),d(_(4,1,"BLOG_LIST.NO_ENTRIES")))}var Ct=(()=>{class t{constructor(e){this.blogState=e,this.blogSignals=j(()=>this.blogState.blogEntries().map(n=>s(n)))}ngOnInit(){this.blogState.fetchBlogEntries()}static{this.\u0275fac=function(n){return new(n||t)(u(K))}}static{this.\u0275cmp=h({type:t,selectors:[["app-blog-list-layout"]],decls:9,vars:5,consts:[["content",""],["noEntries",""],[1,"blog-list-container"],["class","loading-spinner",4,"ngIf","ngIfElse"],[1,"loading-spinner"],["src","../../../../../assets/images/loading_animation.gif","alt","Loading...",1,"loading-gif"],["class","container",4,"ngIf","ngIfElse"],[1,"container"],[1,"row","flex-wrap","blog-card-list-row",2,"display","flex","flex-wrap","wrap"],["class","col-12 col-sm-6 col-md-4 col-lg-3 mb-4",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-4"],[3,"blogEntry","selectedBlogId"],[1,"no-entries-container","text-center"],["src","../../../../../assets/images/no_data.jpg","alt","No blog entries",1,"no-entries-image"]],template:function(n,r){if(n&1&&(a(0,"div",2)(1,"h1"),l(2),b(3,"translate"),i(),f(4,X,2,0,"div",3),i(),f(5,et,1,2,"ng-template",null,0,y)(7,nt,5,3,"ng-template",null,1,y)),n&2){let p=M(6);o(2),d(_(3,3,"BLOG_LIST.TITLE")),o(2),c("ngIf",r.blogState.isLoading())("ngIfElse",p)}},dependencies:[F,D,k,J,v],styles:[".blog-list-container[_ngcontent-%COMP%]{padding:1% 5%;height:100vh;width:100%}.no-entries-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.no-entries-container[_ngcontent-%COMP%]   .no-entries-image[_ngcontent-%COMP%]{min-width:300px;width:50%;height:auto}.no-entries-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#212121}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.loading-gif[_ngcontent-%COMP%]{min-width:400px;width:60%;height:auto}"],changeDetection:0})}}return t})();export{Ct as BlogListLayoutComponent};
